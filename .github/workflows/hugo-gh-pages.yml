name: Actions Runner Controller Demo
on:
  workflow_dispatch:

jobs:
  Explore-GitHub-Actions:
    runs-on: docs-runner-set-2
    steps:
      - run: echo "ðŸŽ‰ This job uses runner scale set runners!"
      - name: Check out code
        uses: actions/checkout@v4
      - run: ls -lta
      - name: Run Trivy vulnerability scanner with exclusions
        uses: aquasecurity/trivy-action@0.12.0
        with:
          image-ref: nginx:latest
          format: 'table'
          exit-code: '1'
          ignore-unfixed: true
          trivyignores: ""
          severity: 'CRITICAL,HIGH'
          timeout: 15m

  container-test-job:
    runs-on: docs-runner-set-2
    container:
      image: nginx
      env:
        NODE_ENV: development
    steps:
      - name: Check for dockerenv file
        run: "echo $(cat /etc/os-release)"
